# This files contains your custom actions which can be used to run
# custom Python code.
#
# See this guide on how to implement these action:
# https://rasa.com/docs/rasa/core/actions/#custom-actions/


#This is a simple example for a custom action which utters "Hello World!"

from typing import Any, Text, Dict, List

from rasa_sdk import Action, Tracker
from rasa_sdk.executor import CollectingDispatcher

timezones={
"Afghanistan":"+04:30",
"Aland Islands":"+02:00/+03:00",	
"Albania":"+01:00/+02:00",	
"Algeria":"+01:00",		
"American Samoa":"−11:00",		
"Andorra":"+01:00/+02:00",	
"Angola":"+01:00",		
"Anguilla":"−04:00",		
"Antigua and Barbuda":"−04:00",		
"Argentina":"−03:00",		
"Armenia":"+04:00",		
"Aruba":"−04:00",		
"Ascension Island":"±00:00",		
"Australia":"+08:00/+09:30/+10:00/+10:30/+11:00",		
"Austria":"+01:00/+02:00",	
"Azerbaijan":"+04:00",		
"Bahamas":"−05:00/−04:00",	
"Bahrain":"+03:00",		
"Bangladesh":"+06:00",		
"Barbados":"−04:00",		
"Belarus":"+03:00",		
"Belgium":"+01:00/+02:00",	
"Belize":"−06:00",		
"Benin":"+01:00",		
"Bermuda":"−04:00/−03:00",	
"Bhutan":"+06:00",		
"Bolivia":"−04:00",		
"Bonaire":"−04:00",	
"Bosnia and Herzegovina":"+01:00/+02:00",	
"Botswana":"+02:00",		
"Brazil":"−05:00/-4:00/-3:00/-2:00",	
"British Indian Ocean Territory":"+06:00",	
"British Virgin Islands":"−04:00",	
"Brunei":"+08:00", 	
"Bulgaria":"+02:00/+03:00",	
"Burkina Faso":"±00:00",		
"Burundi":"+02:00",		
"Cabo Verde":"−01:00",		
"Cambodia":"+07:00",		
"Cameroon":"+01:00",		
"Canada":"-2:30/-3:00/-4:00/-5:00/-6:00/-7:00",
"Caribbean Netherlands":"−04:00",		
"Cayman Islands":"−05:00",		
"Central African Republic":"+01:00",		
"Chad":"+01:00",		
"Chatham Islands":"+12:45/+13:45",	
"Chile":"−04:00/−03:00/-5:00/-6:00",	
"China":"+08:00",	
"Christmas Island":"+07:00",		
"Cocos Islands":"+06:30",		
"Colombia":"−05:00",		
"Comoros":"+03:00",		
"Congo":"+01:00/2:00",	
"Cook Islands":"−10:00",	
"Costa Rica":"−06:00",		
"Cote d'Ivoire":"±00:00",		
"Croatia":"+01:00/+02:00",	
"Cuba":"−05:00/−04:00",	
"Curacao":"−04:00",	
"Cyprus":"+02:00/+03:00",	
"Czechia":"+01:00/+02:00",	
"Denmark":"+01:00/+02:00",	
"Djibouti":"+03:00",		
"Dominica":"−04:00",		
"Dominican Republic":"−04:00",		
"Ecuador":"−05:00/-6:00",			
"Egypt":"+02:00",	
"El Salvador":"−06:00",
"Equatorial Guinea":"+01:00",		
"Eritrea":"+03:00",	 	
"Estonia":"+02:00/+03:00",	
"Eswatini":"+02:00",		
"Ethiopia":"+03:00",	 	
"Falkland Islands":"−03:00",	 	
"Faroe Islands":"±00:00/+01:00",	
"Fiji":"+12:00/+13:00",	
"Finland":"+02:00/+03:00",	
"France":"+01:00/+02:00",	
"French Guiana":"−03:00",		
"French Polynesia":"-10:00/-9:30/-9:00",	
"Gabon":"+01:00",	 	
"Gambia":"±00:00",		
"Georgia":"+04:00",		
"Germany":"+01:00/+02:00",	
"Ghana":"±00:00",		
"Gibraltar":"+01:00/+02:00",	
"Greece":"+02:00/+03:00",	
"Greenland":"-3:00/-2:00/-4:00/-1:00/±00:00",
"Grenada":"−04:00",	 	
"Guadeloupe":"−04:00",	 	
"Guam":"+10:00",		
"Guatemala":"−06:00",		
"Guernsey":"±00:00/+01:00",	
"Guinea":"±00:00",		
"Guinea-Bissau":"±00:00",		
"Guyana":"−04:00",		
"Haiti":"−05:00/−04:00",	
"Honduras":"−06:00",		
"Hong Kong":"+08:00",		
"Hungary":"+01:00/+02:00",	
"Iceland":"±00:00",		
"India":"+05:30",		
"Indonesia":"+7:00/+8:00/+9:00",	
"Iran":"+03:30/+04:30",	
"Iraq":"+03:00",	
"Ireland":"±00:00/+01:00",	
"Isle of Man":"±00:00/+01:00",	
"Israel":"+02:00/+03:00",	
"Italy":"+01:00/+02:00",	
"Jamaica":"−05:00",		
"Japan":"+09:00",		
"Jersey":"00:00/+01:00",	
"Jordan":"+02:00/+03:00",	
"Kazakhstan":"+5:00/+6:00",
"Kerguelen Islands":"+05:00",		
"Kiribati":"+12:00/+13:00/+14:00",	
"Kosovo":"+01:00/+02:00",	
"Kuwait":"+03:00",		
"Kyrgyzstan":"+06:00",	
"Laos":"+07:00",	
"Latvia":"+02:00/+03:00",	
"Lebanon":"+02:00/+03:00",	
"Lesotho":"+02:00",		
"Liberia":"±00:00",		
"Libya":"+02:00",		
"Liechtenstein":"+01:00/+02:00",
"Lithuania":"+02:00/+03:00",	
"Luxembourg":"+01:00/+02:00",	
"Macau":"+08:00",		
"Madagascar":"+03:00",		
"Malawi":"+02:00",		
"Malaysia":"+08:00",		
"Maldives":"+05:00",		
"Mali":"±00:00",		
"Malta":"+01:00/+02:00",
"Marshall Islands":"+12:00",		
"Martinique":"−04:00",	 	
"Mauritania":"±00:00",	
"Mauritius":"+04:00",
"Mayotte":"+03:00",		
"Mexico":"−06:00/−05:00/-7:00/-8:00",
"Micronesia":"+10:00/+11:00",	
"Moldova":"+02:00/+03:00",	
"Monaco":"+01:00/+02:00",	
"Mongolia":"+7:00/+8:00",	
"Montenegro":"+01:00/+02:00",	
"Montserrat":"−04:00",	
"Morocco":"+01:00",		
"Mozambique":"+02:00",		
"Myanmar":"+06:30",		
"Namibia":"+02:00",	
"Nauru":"+12:00",		
"Nepal":"+05:45",		
"Netherlands":"+01:00/+02:00",	
"New Caledonia":"+11:00",		
"New Zealand":"+12:00/+13:00",	
"Nicaragua":"−06:00",	
"Niger":"+01:00",		
"Nigeria":"+01:00",		
"Niue":"−11:00",		
"Norfolk Island":"+11:00",		
"Northern Mariana Islands":"+10:00",		
"North Korea":"+09:00",		
"North Macedonia":"+01:00/+02:00",	
"Norway":"+01:00/+02:00",	
"Oman":"+04:00",	
"Pakistan":"+05:00",		
"Palau":"+09:00",		
"Palestine":"+02:00/+03:00",	
"Panama":"−05:00",		
"Papua New Guinea":"+10:00/+11:00",	
"Paraguay":"−04:00/−03:00",	
"Peru":"−05:00",	
"Philippines":"+08:00",		
"Pitcairn Islands":"−08:00",		
"Poland":"+01:00/+02:00",	
"Portugal":"±00:00/+01:00/−01:00",
"Puerto Rico":"(USA) −04:00",		
"Qatar":"+03:00",		
"Reunion":"+04:00",	
"Romania":"+02:00/+03:00",	
"Russia":"+2:00/+3:00/+4:00/+5:00/+6:00/+7:00/+8:00/+9:00/+10:00/+11:00/+12:00",
"Rwanda":"+02:00",		
"Saba":"−04:00",		
"Saint Barthelemy":"−04:00",		
"Saint Helena":"±00:00", 	
"Saint Kitts and Nevis":"−04:00",		
"Saint Lucia":"−04:00",	
"Saint Martin":"−04:00",		
"Saint Pierre and Miquelon":"−03:00/−02:00",	
"Saint Vincent and the Grenadines":"−04:00",		
"Samoa":"+13:00/+14:00",	
"San Marino":"+01:00/+02:00",	
"Sao Tome and Principe":"±00:00",		
"Saudi Arabia":"+03:00",		
"Senegal":"±00:00",		
"Serbia":"+01:00/+02:00",	
"Seychelles":"+04:00",		
"Sierra Leone":"±00:00",		
"Singapore":"+08:00",		
"Sint Eustatius":"−04:00",		
"Sint Maarten":"−04:00",		
"Slovakia":"+01:00/+02:00",	
"Slovenia":"+01:00/+02:00",	
"Solomon Islands":"+11:00",		
"Somalia":"+03:00",		
"South Africa":"+02:00",		
"South Georgia Island":"−02:00",		
"South Korea":"+09:00",	
"South Sudan":"+03:00",	
"Spain":"+01:00/+02:00",	
"Canary Islands":"±00:00/+01:00",	
"Sri Lanka":"+05:30",		
"Sudan":"+02:00",		
"Suriname":"−03:00",		
"Svalbard and Jan Mayen":"+01:00/+02:00",	
"Sweden":"+01:00/+02:00",	
"Switzerland":"+01:00/+02:00",	
"Syria":"+02:00/+03:00",	
"Taiwan":"+08:00",		
"Tajikistan":"+05:00",		
"Tanzania":"+03:00",		
"Thailand":"+07:00",		
"Timor-Leste":"+09:00",		
"Togo":"±00:00",		
"Tokelau":"+13:00",		
"Tonga":"+13:00/+14:00",	
"Trinidad and Tobago":"−04:00",		
"Tristan da Cunha":"±00:00",		
"Tunisia":"+01:00",		
"Turkey":"+03:00",		
"Turkmenistan":"+05:00",		
"Turks and Caicos Islands":"−04:00",		
"Tuvalu":"+12:00",		
"Uganda":"+03:00",		
"Ukraine":"+02:00/+03:00",	
"United Arab Emirates":"+04:00",		
"United Kingdom":"±00:00/+01:00",	
"United States of America":"-4:00/-5:00/-6:00/-7:00/-8:00/-10:00",
"Uruguay":"−03:00",		
"US Virgin Islands":"−04:00",	
"Uzbekistan":"+05:00",		
"Vanuatu":"+11:00",		
"Vatican City":"+01:00/+02:00",	
"Venezuela":"−04:00",		
"Vietnam":"+07:00",		
"Wake Island":"+12:00",		
"Wallis and Futuna":"+12:00",		
"Yemen":"+03:00",		
"Zambia":"+02:00",	
"Zimbabwe":"+02:00"
}


class ActionShowTimeZone(Action):

    def name(self) -> Text:
        return "action_show_time_zone"

    def run(self, dispatcher: CollectingDispatcher,
            tracker: Tracker,
            domain: Dict[Text, Any]) -> List[Dict[Text, Any]]:

        country = tracker.get_slot("country")
        timezone = timezones.get(country)

        if timezone is None:
            output = "Could not find the timezone of {}".format(country)
        else:
            output = "Timezone of {} is UTC {}".format(country,timezone)

        dispatcher.utter_message(text=output)

        return []
